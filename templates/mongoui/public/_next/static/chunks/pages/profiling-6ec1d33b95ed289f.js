(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[836],{382:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profiling",function(){return t(1242)}])},2406:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(5893),i=t(7294),o=t(6921),a=t(1397);function l(e){var n=(0,a.Hj)().data,t=(0,i.useMemo)((function(){return(null===n||void 0===n?void 0:n.hosts)||[]}),[n]);(0,i.useEffect)((function(){e.host&&t.includes(e.host)||e.setHost(t[0])}),[t,e]);var l=(0,i.useMemo)((function(){return t.map((function(t){return{key:t,text:t,secondaryText:t===(null===n||void 0===n?void 0:n.primary)?"Primary":"Secondary",checked:t===e.host,canCheck:!0,onClick:function(){e.setHost(t)}}}))}),[t,null===n||void 0===n?void 0:n.primary,e]);return(0,r.jsx)(o.a,{disabled:0===t.length,styles:{root:e.style},menuProps:{items:l},menuIconProps:{hidden:!0},children:e.host||"No Host"})}},6950:function(e,n,t){"use strict";var r=t(5893),i=t(7294),o=t(9235),a=t(8521),l=t(6605),s=t(2887);function u(e){var n=(0,o.gh)();return(0,r.jsxs)("div",{style:{padding:10,maxWidth:500,maxHeight:500,overflowY:"scroll",backgroundColor:n.palette.neutralLighterAlt},children:[e.header,(0,r.jsx)(s.Z,{value:e.value})]})}n.Z=(0,i.memo)((function(e){var n=(0,o.gh)(),t=(0,i.useCallback)((function(){return(0,r.jsx)(u,{value:e.value,header:e.header})}),[e.value,e.header]);return(0,r.jsx)(a.z,{type:l.C.plain,plainCardProps:{onRenderPlainCard:t},styles:{host:{cursor:"pointer",color:n.palette.neutralSecondary,textOverflow:"ellipsis",overflow:"hidden"}},instantOpenOnClick:!0,children:e.children})}),(function(e,n){return e.value===n.value&&e.children===n.children&&e.header===n.header}))},3054:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(5893),i=t(9277),o=t(6921),a=t(7294),l=t(6486),s=t(2887),u=t(9599);function c(e){var n,t=(0,a.useState)(),c=t[0],d=t[1];return(0,r.jsxs)(u.Z,{title:e.title,isOpen:e.isOpen,onDismiss:e.onDismiss,footer:e.footer,children:[(0,r.jsxs)(i.K,{horizontal:!0,tokens:{childrenGap:10},styles:{root:{marginLeft:20,marginRight:20}},children:[(0,r.jsx)(o.a,{text:"other",primary:void 0===c,onClick:function(){d(void 0)}}),e.tabs.map((function(n){return(0,r.jsx)(o.a,{text:n,disabled:!e.value[n],primary:c===n,onClick:function(){d(n)}},n)}))]}),(0,r.jsx)("div",{style:{flex:1,margin:20,overflow:"scroll"},children:c&&(null===(n=e.onRenderTab)||void 0===n?void 0:n.call(e,c))||(0,r.jsx)(s.Z,{value:void 0===c?(0,l.omit)(e.value,e.tabs):e.value[c],style:{marginBottom:20}})})]})}},2833:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(5893),i=t(9235),o=t(9277),a=t(5046),l=t(8612),s=t(3396),u=t(4736),c=t(7534);function d(e){var n=(0,i.gh)();return(0,r.jsxs)(o.K,{horizontal:!0,styles:{root:{alignItems:"center"}},children:[(0,r.jsx)(a.Q,{text:e.count?"".concat(e.skip+1," ~ ").concat(Math.min(e.skip+e.limit,e.count)," of ").concat((0,u.u)(e.count)):"No Data",style:{height:32,color:n.palette.neutralPrimary},menuProps:{items:[{key:"0",itemType:l.n.Section,sectionProps:{title:"Page Size",items:[25,50,100].map((function(n,t){return{key:t.toString(),text:n.toString(),checked:n===e.limit,canCheck:!0,onClick:function(){e.onLimit(n)}}}))}}]},menuIconProps:{hidden:!0}}),(0,r.jsx)(s.h,{iconProps:{iconName:"Back"},disabled:e.skip<=0,onClick:e.onPrev}),(0,r.jsx)(s.h,{iconProps:{iconName:"Forward"},disabled:e.skip+e.limit>=e.count,onClick:e.onNext}),(0,r.jsx)(c.Z,{isRefreshing:e.isValidating,onRefresh:e.mutate})]})}},6146:function(e,n,t){"use strict";var r=t(5893),i=t(7294),o=t(1557),a=t(1244),l=t(6950);n.Z=(0,i.memo)((function(e){var n=(0,i.useMemo)((function(){return(0,o.Pz)(e.value)}),[e.value]),t=(0,a.Z)(n);return n.length>36?(0,r.jsx)(l.Z,{value:e.value,children:(0,r.jsx)("span",{style:{verticalAlign:"middle"},dangerouslySetInnerHTML:{__html:t}})}):(0,r.jsx)("span",{style:{verticalAlign:"middle"},dangerouslySetInnerHTML:{__html:t}})}),(function(e,n){return e.value===n.value}))},1242:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ge}});var r=t(5893),i=t(7294),o=t(1043),a=t(6009),l=t(9277),s=t(5037),u=t(1397),c=t(2833);function d(){var e=(0,o.v9)((function(e){return e.profiling.skip})),n=(0,o.v9)((function(e){return e.profiling.limit})),t=(0,u.UN)(),l=t.data,s=t.isValidating,d=t.mutate,f=(0,u.wh)(),m=f.isValidating,v=f.mutate,h=(0,o.I0)(),p=(null===l||void 0===l?void 0:l.n)||0,y=(0,i.useCallback)((function(e){h(a.N.profiling.setLimit(e))}),[h]),g=(0,i.useCallback)((function(){h(a.N.profiling.prevPage())}),[h]),x=(0,i.useCallback)((function(){h(a.N.profiling.nextPage(p))}),[h,p]),b=(0,i.useCallback)((function(){d(),v()}),[v,d]);return(0,r.jsx)(c.Z,{skip:e,limit:n,count:p,onLimit:y,onPrev:g,onNext:x,isValidating:m||s,mutate:b})}var f=t(2406);function m(){var e=(0,o.v9)((function(e){return e.profiling.host})),n=(0,o.I0)();(0,i.useEffect)((function(){n(a.N.profiling.resetPage())}),[e,n]);var t=(0,i.useCallback)((function(e){n(a.N.profiling.setHost(e))}),[n]);return(0,r.jsxs)(l.K,{horizontal:!0,tokens:{childrenGap:10,padding:10},styles:{root:{height:52,alignItems:"center"}},children:[(0,r.jsx)(s._,{children:"Host:"}),(0,r.jsx)(f.Z,{host:e,setHost:t}),(0,r.jsx)(l.K.Item,{grow:!0,children:(0,r.jsx)("div",{})}),(0,r.jsx)(d,{})]})}var v=t(6700),h=t(3234),p=t(9152),y=t(4323),g=t(3203),x=t(4061),b=t(6146),j=t(3054),k=t(9235),w=t(8521),S=t(6605),I=t(7638),C=t(2672),A=t(6486),P=t(9830),N=t.n(P),Z=t(7121),E=t(4736),M=t(2887);function O(e){var n,t,o,a=(0,k.gh)(),l=(0,i.useMemo)((function(){return e.value?Z.dF.parse(JSON.stringify(e.value)):void 0}),[e.value]),s=(0,i.useCallback)((function(){return(0,r.jsx)("div",{style:{padding:10,maxWidth:500,maxHeight:500,overflowY:"scroll",backgroundColor:a.palette.neutralLighter},children:(0,r.jsx)(M.Z,{value:(0,A.omit)(e.value,["inputStage","inputStages"])})})}),[e.value,a.palette.neutralLighter]),u=(0,i.useMemo)((function(){return{root:{color:a.palette.neutralPrimary,margin:8}}}),[a]);return l&&e.value?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.z,{type:S.C.plain,plainCardProps:{onRenderPlainCard:s},styles:{host:{display:"inherit",cursor:"pointer"}},instantOpenOnClick:!0,children:(0,r.jsx)(I.W,{styles:{description:{whiteSpace:"pre",lineHeight:"1.2em"},label:{whiteSpace:"pre",lineHeight:"1.2em"},root:{paddingTop:10,paddingBottom:10,minHeight:"unset",height:"fit-content"}},secondaryText:(0,A.compact)(["".concat((0,E.u)(l.executionTimeMillisEstimate-((null===(n=l.inputStage)||void 0===n?void 0:n.executionTimeMillisEstimate)||Math.max((null===(t=l.inputStages)||void 0===t?void 0:t[0].executionTimeMillisEstimate)||0,(null===(o=l.inputStages)||void 0===o?void 0:o[1].executionTimeMillisEstimate)||0)||0))," ms"),void 0===l.keysExamined?void 0:"".concat((0,E.u)(l.keysExamined)," keys examined"),void 0===l.docsExamined?void 0:"".concat((0,E.u)(l.docsExamined)," docs examined"),void 0===l.nMatched?void 0:"".concat((0,E.u)(l.nMatched)," matched"),void 0===l.memUsage?void 0:"".concat(N()(l.memUsage,{unitSeparator:" "}).toLocaleLowerCase()," mem used"),"".concat((0,E.u)(l.nReturned)," returned")]).join("\n"),children:l.stage})}),e.value.inputStage?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.J,{iconName:"Forward",styles:u}),(0,r.jsx)(O,{value:e.value.inputStage})]}):null,e.value.inputStages?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.J,{iconName:"Forward",styles:u}),(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:e.value.inputStages.map((function(e,n){return(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",flexDirection:"row-reverse",marginTop:0===n?0:34},children:(0,r.jsx)(O,{value:e})},n.toString())}))})]}):null]}):null}function H(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function L(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||R(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,n){if(e){if("string"===typeof e)return H(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?H(e,n):void 0}}var _=["op","millis","ts","keysExamined","docsExamined","nreturned","planSummary"];function F(){var e=(0,u.wh)(),n=e.data,t=e.error,l=L((0,y.Z)(),1)[0].collection,s=(0,o.v9)((function(e){return e.profiling.invokedProfiling})),c=(0,o.v9)((function(e){return e.profiling.isEditorOpen})),d=(0,o.v9)((function(e){return e.profiling.isMenuHidden})),f=(0,o.I0)(),m=(0,i.useState)(),k=m[0],w=m[1],S=(0,i.useCallback)((function(e,n){null===e||void 0===e||e.preventDefault(),w(e),n&&f(a.N.profiling.setInvokedProfiling(n)),f(a.N.profiling.setIsMenuHidden(!1))}),[f]),I=(0,i.useCallback)((function(e){e&&f(a.N.profiling.setInvokedProfiling(e)),f(a.N.profiling.setIsEditorOpen(!0))}),[f]),C=(0,i.useCallback)((function(e,n,t){return(0,r.jsx)(b.Z,{value:null===e||void 0===e?void 0:e[null===t||void 0===t?void 0:t.key]})}),[]),A=(0,i.useMemo)((function(){return"system.profile"===l?["ns"].concat(T(_)):_}),[l]),P=(0,i.useMemo)((function(){return n&&0!==n.cursor.firstBatch.length?(0,p.G)((0,p.Q)(n.cursor.firstBatch,A,!0)):[]}),[n,A]);return t?(0,r.jsx)(g.Z,{iconName:"Error",title:"Error",content:t.message}):n?0===n.cursor.firstBatch.length?(0,r.jsx)(g.Z,{iconName:"SpeedHigh",title:"No Profiling"}):(0,r.jsxs)(r.Fragment,{children:[s?(0,r.jsx)(j.Z,{tabs:["execStats","command","originatingCommand","locks"],title:"View Profile",value:s,isOpen:c,onRenderTab:function(e){return"execStats"===e?(0,r.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse",justifyContent:"flex-end",alignItems:"center"},children:(0,r.jsx)(O,{value:s.execStats})}):null},onDismiss:function(){f(a.N.profiling.setIsEditorOpen(!1))}}):null,(0,r.jsx)(v.r,{target:k,hidden:d,directionalHint:h.b.rightTopEdge,onDismiss:function(){f(a.N.profiling.setIsMenuHidden(!0))},items:[{key:"0",text:"View",iconProps:{iconName:"View"},onClick:function(){f(a.N.profiling.setIsMenuHidden(!0)),f(a.N.profiling.setIsEditorOpen(!0))}}]}),(0,r.jsx)(x.Z,{items:n.cursor.firstBatch,columns:P,onItemContextMenu:S,onItemInvoked:I,onRenderItemColumn:C})]}):(0,r.jsx)(g.Z,{iconName:"HourGlass",title:"Loading"})}var D=t(4051),K=t.n(D),z=t(4593),U=t(7860),V=t(5332),B=t(3314),G=t(4620),W=t(2013),$=t(850),J=t(6992);function Q(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function X(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(u){return void t(u)}l.done?n(s):Promise.resolve(s).then(r,i)}function Y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Q(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Q(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(){var e,n=Y((0,y.Z)(),1)[0].conn,t=(0,B.R)(n),c=(0,o.v9)((function(e){return e.profiling.host})),d=c?(0,V.U)(c,t):t,m=(0,i.useState)(0),v=m[0],h=m[1],p=(0,i.useState)(0),g=p[0],x=p[1],b=(0,u.jJ)(),j=b.data,k=b.error,w=b.mutate,S=b.isValidating,I=(0,i.useCallback)((e=K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,U.f)(d,"admin",{profile:null===j||void 0===j?void 0:j.was,slowms:v,sampleRate:{$numberDouble:g.toString()}}));case 1:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){X(o,r,i,a,l,"next",e)}function l(e){X(o,r,i,a,l,"throw",e)}a(void 0)}))}),[d,j,v,g]),C=(0,$.Z)(I);(0,i.useEffect)((function(){C.resolved&&w()}),[C.resolved,w]),(0,i.useEffect)((function(){j&&(h(j.slowms),x(j.sampleRate))}),[j]);var A=(0,o.I0)(),P=(0,i.useCallback)((function(e){A(a.N.profiling.setHost(e))}),[A]);return(0,r.jsxs)(l.K,{horizontal:!0,tokens:{padding:10},styles:{root:{height:52,alignItems:"center"}},children:[(0,r.jsx)(s._,{styles:{root:{marginRight:10}},children:"Host:"}),(0,r.jsx)(f.Z,{style:{marginRight:20},host:c,setHost:P}),(0,r.jsx)(G.k,{label:"Slow ms:",styles:{spinButtonWrapper:{width:80},root:{width:"fit-content",marginRight:20}},value:v.toString(),onValidate:function(e){h(Math.max(parseInt(e,10),0))},onIncrement:function(e){h(Math.max(parseInt(e,10)+10,0))},onDecrement:function(e){h(Math.max(parseInt(e,10)-10,0))}}),(0,r.jsx)(s._,{children:"Sample rate:"}),(0,r.jsx)(W.i,{styles:{slideBox:{width:80}},min:0,max:1,step:.01,valueFormat:function(e){return"".concat(Math.round(100*e),"%")},value:g,onChange:x,onChanged:function(e,n){x(n)}}),(0,r.jsx)(l.K.Item,{grow:!0,children:(0,r.jsx)("div",{})}),(0,r.jsx)(J.Z,{disabled:(null===j||void 0===j?void 0:j.slowms)===v&&(null===j||void 0===j?void 0:j.sampleRate)===g||S||!!k,icon:"CheckMark",promise:C})]})}var ee=t(6404),ne=t(7534);function te(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function re(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(u){return void t(u)}l.done?n(s):Promise.resolve(s).then(r,i)}function ie(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function oe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||le(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,n){if(e){if("string"===typeof e)return te(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?te(e,n):void 0}}var se="database";function ue(){var e=oe((0,y.Z)(),2),n=e[0].conn,t=e[1],s=(0,B.R)(n),c=(0,u.IK)().data,d=(0,u.Hj)().data,f=(0,i.useCallback)((function(e){var n,t=null===(n=null===c||void 0===c?void 0:c.databases[e])||void 0===n?void 0:n.name;return s&&t&&d?[s,t].concat(ae(d.hosts||(0,V.s)(s))):null}),[s,c,d]),m=(0,i.useCallback)(function(){var e,n=(e=K().mark((function e(n,t){var r,i,o,a,l,s,u,c,d,f,m,v=arguments;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=v.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=v[o];a=ie({},se,t),l=!0,s=!1,u=void 0,e.prev=3,c=i[Symbol.iterator]();case 5:if(l=(d=c.next()).done){e.next=14;break}return f=d.value,e.next=9,(0,U.f)((0,V.U)(f,n),t,{count:"system.profile",query:{}});case 9:m=e.sent.n,a[f]=m;case 11:l=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),s=!0,u=e.t0;case 20:e.prev=20,e.prev=21,l||null==c.return||c.return();case 23:if(e.prev=23,!s){e.next=26;break}throw u;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",a);case 29:case"end":return e.stop()}}),e,null,[[3,16,20,28],[21,,23,27]])})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){re(o,r,i,a,l,"next",e)}function l(e){re(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e,t){return n.apply(this,arguments)}}(),[]),v=(0,z.ZP)(f,m,{initialSize:null===c||void 0===c?void 0:c.databases.length,revalidateAll:!0}),h=v.data,j=v.isValidating,w=v.mutate,S=(0,i.useMemo)((function(){var e=((null===d||void 0===d?void 0:d.hosts)||(0,V.s)(s)).map((function(e){return[e,160]}));return(0,p.G)([[se,0]].concat(ae(e)))}),[d,s]),I=(0,o.I0)(),C=(0,k.gh)(),A=(0,i.useCallback)((function(e,r){I(a.N.root.setExpandedDatabases(e[se]?[e[se]]:[])),t({conn:n,database:e[se],collection:"system.profile"}),r&&I(a.N.profiling.setHost(r))}),[n,I,t]),P=(0,i.useCallback)((function(e,n,t){return e&&(null===t||void 0===t?void 0:t.key)?t.key===se?(0,r.jsx)(b.Z,{value:e[t.key]}):(0,r.jsx)("span",{style:{cursor:"pointer",color:C.palette.themePrimary},onClick:function(){A(e,t.key)},children:(0,E.u)(e[t.key])}):null}),[A,C.palette.themePrimary]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.K,{horizontal:!0,tokens:{padding:10},styles:{root:{height:52,alignItems:"center"}},children:[(0,r.jsx)(l.K.Item,{grow:!0,children:(0,r.jsx)("div",{})}),(0,r.jsx)(ne.Z,{isRefreshing:j,onRefresh:w})]}),(0,r.jsx)(ee.Z,{}),h?(0,r.jsx)(x.Z,{items:h,columns:S,onRenderItemColumn:P,onItemInvoked:A}):(0,r.jsx)(g.Z,{iconName:"HourGlass",title:"Loading"}),(0,r.jsx)(ee.Z,{}),(0,r.jsx)(q,{})]})}var ce,de=t(7318);function fe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function me(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(u){return void t(u)}l.done?n(s):Promise.resolve(s).then(r,i)}function ve(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return fe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fe(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(){var e,n=ve((0,y.Z)(),1)[0],t=n.conn,a=n.database,c=(0,B.R)(t),d=(0,o.v9)((function(e){return e.profiling.host})),f=d?(0,V.U)(d,c):c,m=(0,i.useState)(),v=m[0],h=m[1],p=(0,u.jJ)(),g=p.data,x=p.error,b=p.mutate,j=p.isValidating,k=(0,i.useCallback)((e=K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a&&void 0!==v?(0,U.f)(f,a,{profile:v}):void 0);case 1:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){me(o,r,i,a,l,"next",e)}function l(e){me(o,r,i,a,l,"throw",e)}a(void 0)}))}),[f,a,v]),w=(0,$.Z)(k);return(0,i.useEffect)((function(){w.resolved&&b()}),[w.resolved,b]),(0,i.useEffect)((function(){g&&h(g.was)}),[g]),(0,r.jsxs)(l.K,{horizontal:!0,tokens:{childrenGap:10,padding:10},styles:{root:{height:52,alignItems:"center"}},children:[x?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s._,{children:"Profiling Level:"}),(0,r.jsx)(de.L,{selectedKey:v,onChange:function(e,n){h(null===n||void 0===n?void 0:n.key)},styles:{root:{width:80}},options:[{key:ce.OFF,text:"Off"},{key:ce.SLOW,text:"Slow"},{key:ce.ALL,text:"All"}]})]}),(0,r.jsx)(l.K.Item,{grow:!0,children:(0,r.jsx)("div",{})}),(0,r.jsx)(J.Z,{disabled:(null===g||void 0===g?void 0:g.was)===v||j||!!x,icon:"CheckMark",promise:w})]})}function pe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ye(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return pe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pe(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(){var e=ye((0,y.Z)(),1)[0],n=e.database,t=e.collection,l=(0,o.I0)();return(0,i.useEffect)((function(){l(a.N.profiling.setFilter(t&&"system.profile"!==t?{ns:"".concat(n,".").concat(t)}:{}))}),[n,t,l]),(0,i.useEffect)((function(){l(a.N.profiling.resetPage())}),[n,t,l]),n&&t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,{}),(0,r.jsx)(ee.Z,{}),(0,r.jsx)(F,{}),(0,r.jsx)(ee.Z,{}),(0,r.jsx)(he,{})]}):(0,r.jsx)(ue,{})}!function(e){e[e.OFF=0]="OFF",e[e.SLOW=1]="SLOW",e[e.ALL=2]="ALL"}(ce||(ce={}))}},function(e){e.O(0,[300,583,833,318,620,35,738,774,888,179],(function(){return n=382,e(e.s=n);var n}));var n=e.O();_N_E=n}]);