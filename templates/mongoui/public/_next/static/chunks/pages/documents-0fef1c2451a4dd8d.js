(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[976],{8617:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/documents",function(){return n(156)}])},9862:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5893),o=n(7294),i=n(9604),a=n(1557),c=n(2881),u=n(6424),l=n(9599);function s(e){var t,n=(0,c.Z)(),s=(0,o.useState)(""),d=s[0],f=s[1];(0,o.useEffect)((function(){f("return ".concat((0,a.Pz)(e.value,!0),"\n"))}),[e.value]);var m=(0,o.useCallback)((function(e){e.onKeyDown((function(e){9===e.keyCode&&e.stopPropagation()}))}),[]),v=(0,o.useState)(!1),p=v[0],y=v[1],h=(0,o.useCallback)((function(e){f(e||"");try{e&&(0,a.Qc)(e.replace(/^return/,"")),y(!1)}catch(t){y(!0)}}),[]),b=(0,o.useMemo)((function(){return{tabSize:u.t.tabSize.get,readOnly:e.readOnly,wordWrap:"on",contextmenu:!1,scrollbar:{verticalScrollbarSize:0,horizontalSliderSize:0}}}),[e.readOnly]);return(0,r.jsx)(l.Z,{title:e.title,isOpen:e.isOpen,onDismiss:e.onDismiss,onDismissed:e.onDismissed,footer:null===(t=e.footer)||void 0===t?void 0:t.call(e,p),children:(0,r.jsx)("div",{style:{flex:1},onBlur:function(){try{var t;y(!1),null===(t=e.onChange)||void 0===t||t.call(e,(0,a.Qc)(d.replace(/^return/,"")))}catch(n){y(!0)}},children:(0,r.jsx)(i.ZP,{language:"typescript",value:d,onChange:h,theme:n?"vs-dark":"vs",onMount:m,options:b})})})}},2510:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5893),o=n(663),i=n(3396),a=n(7294),c=n(1557);function u(e){var t=(0,a.useState)(),n=t[0],u=t[1],l=(0,a.useState)(""),s=l[0],d=l[1];(0,a.useEffect)((function(){d((0,c.Pz)(e.value))}),[e.value]);var f=(0,a.useCallback)((function(){try{e.onChange(s?(0,c.Qc)(s):void 0)}catch(t){console.error(t),u(" ")}}),[s,e.value,e.onChange]);return(0,r.jsxs)("div",{style:{flex:1,display:"flex"},children:[(0,r.jsx)(o.n,{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",autoSave:"off",spellCheck:!1,styles:{root:{flex:1},prefix:{cursor:"default"}},prefix:e.prefix,errorMessage:n,value:s,onBlur:f,onKeyDown:function(e){"Enter"===e.key&&f()},onChange:function(e,t){d(t||""),u(void 0)}}),e.iconProps&&e.menuProps?(0,r.jsx)(i.h,{iconProps:e.iconProps,menuProps:e.menuProps,menuIconProps:{hidden:!0}}):null]})}},6950:function(e,t,n){"use strict";var r=n(5893),o=n(7294),i=n(9235),a=n(8521),c=n(6605),u=n(2887);function l(e){var t=(0,i.gh)();return(0,r.jsxs)("div",{style:{padding:10,maxWidth:500,maxHeight:500,overflowY:"scroll",backgroundColor:t.palette.neutralLighterAlt},children:[e.header,(0,r.jsx)(u.Z,{value:e.value})]})}t.Z=(0,o.memo)((function(e){var t=(0,i.gh)(),n=(0,o.useCallback)((function(){return(0,r.jsx)(l,{value:e.value,header:e.header})}),[e.value,e.header]);return(0,r.jsx)(a.z,{type:c.C.plain,plainCardProps:{onRenderPlainCard:n},styles:{host:{cursor:"pointer",color:t.palette.neutralSecondary,textOverflow:"ellipsis",overflow:"hidden"}},instantOpenOnClick:!0,children:e.children})}),(function(e,t){return e.value===t.value&&e.children===t.children&&e.header===t.header}))},2833:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(5893),o=n(9235),i=n(9277),a=n(5046),c=n(8612),u=n(3396),l=n(4736),s=n(7534);function d(e){var t=(0,o.gh)();return(0,r.jsxs)(i.K,{horizontal:!0,styles:{root:{alignItems:"center"}},children:[(0,r.jsx)(a.Q,{text:e.count?"".concat(e.skip+1," ~ ").concat(Math.min(e.skip+e.limit,e.count)," of ").concat((0,l.u)(e.count)):"No Data",style:{height:32,color:t.palette.neutralPrimary},menuProps:{items:[{key:"0",itemType:c.n.Section,sectionProps:{title:"Page Size",items:[25,50,100].map((function(t,n){return{key:n.toString(),text:t.toString(),checked:t===e.limit,canCheck:!0,onClick:function(){e.onLimit(t)}}}))}}]},menuIconProps:{hidden:!0}}),(0,r.jsx)(u.h,{iconProps:{iconName:"Back"},disabled:e.skip<=0,onClick:e.onPrev}),(0,r.jsx)(u.h,{iconProps:{iconName:"Forward"},disabled:e.skip+e.limit>=e.count,onClick:e.onNext}),(0,r.jsx)(s.Z,{isRefreshing:e.isValidating,onRefresh:e.mutate})]})}},156:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return xe}});var r=n(5893),o=n(4051),i=n.n(o),a=n(7294),c=n(1043),u=n(940),l=n(9055),s=n(6486),d=n(7860),f=n(1557),m=n(9033),v=n(1397),p=n(850),y=n(9152),h=n(4323),b=n(3314),g=n(4061),x=n(9862),k=n(9235),j=n(6700),S=n(1216),w=n(9473),C=n(6992),P=n(6361);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}var D={boolean:function(e){return(0,f.Pz)(e)},date:function(e){return(0,f.Pz)(e)},number:function(e){return(0,f.Pz)(e)},object:function(e){return(0,f.Pz)(e)},string:function(e){return(0,f.Pz)(e)}};function T(e){var t,n=N((0,h.Z)(),1)[0],o=n.conn,c=n.database,u=n.collection,l=(0,b.R)(o),s=(0,a.useState)(!0),m=s[0],g=s[1],x=(0,v.Us)().mutate,O=(0,v.p0)().mutate,E=(0,a.useCallback)((t=i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c&&u?(0,d.f)(l,c,{delete:u,deletes:e.selectedItems.map((function(e){return{q:{_id:e._id},limit:1}}))}):void 0);case 1:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){I(i,r,o,a,c,"next",e)}function c(e){I(i,r,o,a,c,"throw",e)}a(void 0)}))}),[u,l,c,e.selectedItems]),T=(0,p.Z)(E);(0,a.useEffect)((function(){T.resolved&&(g(!0),x(),O())}),[O,x,T.resolved]);var M=(0,k.gh)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.Z,{hidden:m,onDismiss:function(){g(!0)},title:1===e.selectedItems.length?"Delete Document":"Delete ".concat(e.selectedItems.length," Documents"),subText:e.selectedItems.map((function(e){return(0,f.Pz)(e._id)})).join("\n"),footer:(0,r.jsx)(C.Z,{text:"Delete",promise:T})}),(0,r.jsx)(j.r,{target:e.target,hidden:e.hidden,onDismiss:e.onDismiss,items:[{key:"0",text:"Edit",disabled:!e.onEdit,iconProps:{iconName:"PageEdit"},onClick:e.onEdit},{key:"1",text:"Copy",iconProps:{iconName:"Copy"},subMenuProps:{items:[{key:"1-0",text:"_id",disabled:1!==e.selectedItems.length||!e.selectedItems[0]._id,onClick:function(){window.navigator.clipboard.writeText((0,f.Pz)(e.selectedItems[0]._id))}},{key:"1-1",text:"as Mongo-Shell Data",secondaryText:"array",onClick:function(){window.navigator.clipboard.writeText(1===e.selectedItems.length?(0,f.Pz)(e.selectedItems[0],!0):(0,f.Pz)(e.selectedItems,!0))}},{key:"1-2",text:"as Mongo-Shell Data",secondaryText:"line",onClick:function(){window.navigator.clipboard.writeText(e.selectedItems.map((function(e){return(0,f.Pz)(e)})).join("\n"))}},{key:"1-3",text:"as Extended JSON (v2)",secondaryText:"array",onClick:function(){window.navigator.clipboard.writeText(1===e.selectedItems.length?JSON.stringify(e.selectedItems[0],null,2):JSON.stringify(e.selectedItems,null,2))}},{key:"1-4",text:"as Extended JSON (v2)",secondaryText:"line",onClick:function(){window.navigator.clipboard.writeText(e.selectedItems.map((function(e){return JSON.stringify(e)})).join("\n"))}},{key:"1-5",text:"as CSV",secondaryText:"without header",onClick:function(){(0,S.Pz)(e.selectedItems,{cast:D},(function(e,t){t&&window.navigator.clipboard.writeText(t)}))}},{key:"1-6",text:"as CSV",secondaryText:"with header",onClick:function(){(0,S.Pz)(e.selectedItems,{header:!0,cast:D},(function(e,t){t&&window.navigator.clipboard.writeText(t)}))}},{key:"1-7",text:"as Markdown Table",onClick:function(){var t=(0,y.Q)(e.selectedItems);window.navigator.clipboard.writeText((0,w.x)([t.map((function(e){return N(e,1)[0]}))].concat(A(e.selectedItems.map((function(e){return t.map((function(t){var n=N(t,1)[0];return(0,f.Pz)(e[n])}))}))))))}}]}},{key:"2",text:"Delete",iconProps:{iconName:"Delete",styles:{root:{color:M.palette.red}}},onClick:function(){g(!1)}}]})]})}var M=n(6009);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){var t,n=(0,c.I0)(),o=(0,c.v9)((function(e){return e.docs.projection}));return(0,r.jsx)(j.r,{target:e.target,hidden:e.hidden,onDismiss:e.onDismiss,items:[{key:"0",text:"Omit column: ".concat(null===(t=e.value)||void 0===t?void 0:t.name),iconProps:{iconName:"Hide3"},onClick:function(){e.value&&n(M.N.docs.setProjection(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}({},o,_({},e.value.key,0))))}}]})}var z=n(3203),U=n(2887),B=n(1244),L=n(7121),F=n(6424);function R(e,t,n,r){return F.t.staticMapUrlTemplate.get.replace(/\{\{longitude\}\}/g,n.toString()).replace(/\{\{latitude\}\}/g,r.toString()).replace(/\{\{width\}\}/g,e.toString()).replace(/\{\{height\}\}/g,t.toString())}var V=n(6950);function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $=(0,a.memo)((function(e){var t=(0,a.useMemo)((function(){return(0,f.Pz)(e.value).substr(0,e.subStringLength)}),[e.value,e.subStringLength]),n=(0,B.Z)(t),o=(0,a.useMemo)((function(){return function(e){if(e){var t=L.dF.parse(JSON.stringify(e));if(Array.isArray(t))return t;if("type"in t&&"Point"===t.type&&Array.isArray(t.coordinates))return t.coordinates;if("object"===typeof t){var n=Object.keys(t);return[t[n[0]],t[n[1]]]}}}(e.index2dsphere)}),[e.index2dsphere]),i=o?R.apply(void 0,[500,250].concat(J(o))):void 0;return t.length>36||e.index2dsphere?(0,r.jsx)(V.Z,{value:e.value,header:i?(0,r.jsx)("img",{src:i,alt:"map",width:500,height:250,style:{marginBottom:10}}):null,children:(0,r.jsx)("span",{style:{verticalAlign:"middle"},dangerouslySetInnerHTML:{__html:n}})}):(0,r.jsx)("span",{style:{verticalAlign:"middle"},dangerouslySetInnerHTML:{__html:n}})}),(function(e,t){return e.value===t.value&&e.subStringLength===t.subStringLength&&e.index2dsphere===t.index2dsphere}));function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function Y(){var e,t=(0,c.v9)((function(e){return e.docs.displayMode})),n=G((0,h.Z)(),1)[0],o=n.conn,k=n.database,j=n.collection,S=(0,b.R)(o),w=(0,c.v9)((function(e){return e.docs.index})),P=(0,v.Us)(),O=P.data,I=P.error,N=P.mutate,A=(0,a.useState)(!1),E=A[0],D=A[1],M=(0,a.useState)(!0),_=M[0],B=M[1],L=(0,a.useState)(!0),F=L[0],R=L[1],V=(0,a.useState)(),K=V[0],J=V[1],H=(0,a.useState)(),q=H[0],Y=H[1],ee=(0,a.useState)(),te=ee[0],ne=ee[1],re=(0,a.useCallback)((e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k&&j?(0,d.f)(S,k,{findAndModify:j,query:{_id:K._id},update:q}):void 0);case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Q(i,r,o,a,c,"next",e)}function c(e){Q(i,r,o,a,c,"throw",e)}a(void 0)}))}),[S,k,j,K,q]),oe=(0,p.Z)(re);(0,a.useEffect)((function(){oe.resolved&&(N(),D(!1))}),[oe.resolved,N]);var ie=(0,a.useRef)(),ae=(0,a.useRef)(),ce=(0,a.useMemo)((function(){return new u.Y}),[]),ue=(0,a.useMemo)((function(){return(0,f.Pz)(null===K||void 0===K?void 0:K._id)}),[K]),le=(0,a.useCallback)((function(e){J(e),D(!0)}),[]),se=(0,v._)(null===K||void 0===K?void 0:K._id).data;(0,a.useEffect)((function(){Y(null===se||void 0===se?void 0:se.cursor.firstBatch[0])}),[null===se||void 0===se?void 0:se.cursor.firstBatch]);var de=(0,a.useCallback)((function(e){if(1===ce.getSelectedCount()){var t=G(ce.getSelection(),1)[0];J(t)}else J(void 0);ie.current=e,B(!1)}),[ce]),fe=(0,a.useMemo)((function(){return["_id"].concat(X(Object.keys((null===w||void 0===w?void 0:w.key)||{}).map((function(e){return e.split(".")[0]}))),X(Object.keys((null===w||void 0===w?void 0:w.weights)||{}).map((function(e){return e.split(".")[0]}))))}),[w]),me=(0,a.useMemo)((function(){var e;return(null===w||void 0===w?void 0:w["2dsphereIndexVersion"])?null===(e=Object.entries(w.key).find((function(e){var t=G(e,2);t[0];return"2dsphere"===t[1]})))||void 0===e?void 0:e[0]:void 0}),[w]),ve=(0,a.useCallback)((function(e,n,o){return t===m.d1.DOCUMENT?(0,r.jsx)(U.Z,{value:e}):(0,r.jsx)($,{value:null===e||void 0===e?void 0:e[null===o||void 0===o?void 0:o.key],subStringLength:(null===o||void 0===o?void 0:o.currentWidth)?void 0:(null===o||void 0===o?void 0:o.minWidth)>>2,index2dsphere:me&&(null===o||void 0===o?void 0:o.key)&&me.startsWith(null===o||void 0===o?void 0:o.key)?(0,s.get)(e,me):void 0})}),[me,t]);(0,a.useEffect)((function(){ce.setAllSelected(!1)}),[ce,O]);var pe=(0,a.useMemo)((function(){return O&&0!==O.cursor.firstBatch.length?t===m.d1.TABLE?(0,y.G)((0,y.Q)(O.cursor.firstBatch,fe)).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){W(e,t,n[t])}))}return e}({},e,{columnActionsMode:"_id"===e.key?l._1.disabled:l._1.clickable,onColumnContextMenu:function(e,t){"_id"!==(null===e||void 0===e?void 0:e.key)&&(ae.current=null===t||void 0===t?void 0:t.nativeEvent,ne(e),R(!1))},onColumnClick:function(e,t){ae.current=e.nativeEvent,ne(t),R(!1)}})})):[{key:"",name:"Documents",minWidth:0,isMultiline:!0,columnActionsMode:l._1.disabled}]:[]}),[t,O,fe]),ye=(0,a.useCallback)((function(e,t){return e._id?JSON.stringify(e._id):JSON.stringify(e)+t}),[]);return I?(0,r.jsx)(z.Z,{iconName:"Error",title:"Error",content:I.message}):O?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{title:ue?"View Document: ".concat(ue):"View Document",value:q,onChange:Y,isOpen:E,onDismiss:function(){D(!1)},onDismissed:function(){Y(K)},footer:function(e){return(0,r.jsx)(C.Z,{text:"Update",primary:!0,disabled:e,promise:oe,style:{flexShrink:0}})}}),(0,r.jsx)(T,{hidden:_,onDismiss:function(){B(!0)},target:ie.current,selectedItems:ce.getSelection(),onEdit:K?function(){B(!0),D(!0)}:void 0}),(0,r.jsx)(Z,{value:te,hidden:F,onDismiss:function(){R(!0)},target:ae.current}),(0,r.jsx)(g.Z,{items:O.cursor.firstBatch,columns:pe,getKey:ye,onItemInvoked:le,onItemContextMenu:de,selection:ce,onRenderItemColumn:ve})]}):(0,r.jsx)(z.Z,{iconName:"HourGlass",title:"Loading"})}var ee=n(9277),te=n(6921),ne=n(3396);function re(e){return(0,r.jsx)(te.a,{text:e.value.name,primary:e.selected,onClick:e.onSelect})}var oe=n(2833);function ie(){var e=(0,c.v9)((function(e){return e.docs.skip})),t=(0,c.v9)((function(e){return e.docs.limit})),n=(0,v.p0)(),o=n.data,i=n.isValidating,u=n.mutate,l=(0,v.Us)(),s=l.isValidating,d=l.mutate,f=(0,c.I0)(),m=(null===o||void 0===o?void 0:o.n)||0,p=(0,a.useCallback)((function(e){f(M.N.docs.setLimit(e))}),[f]),y=(0,a.useCallback)((function(){f(M.N.docs.prevPage())}),[f]),h=(0,a.useCallback)((function(){f(M.N.docs.nextPage(m))}),[f,m]),b=(0,a.useCallback)((function(){u(),d()}),[d,u]);return(0,r.jsx)(oe.Z,{skip:e,limit:t,count:m,onLimit:p,onPrev:y,onNext:h,isValidating:s||i,mutate:b})}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(){var e,t,n=le((0,h.Z)(),1)[0],o=n.conn,u=n.database,l=n.collection,s=(0,b.R)(o),f=(0,c.v9)((function(e){return e.docs.displayMode})),y=(0,c.v9)((function(e){return e.docs.index})),g=(0,v.Us)().mutate,k=(0,v.p0)().mutate,j=(0,v.XH)().data,S=(0,c.I0)(),w=(0,a.useState)(!1),P=w[0],O=w[1],I=(0,a.useState)({}),N=I[0],A=I[1],E=(0,a.useCallback)((e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u&&l?(0,d.f)(s,u,{insert:l,documents:[N]}):void 0);case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ce(i,r,o,a,c,"next",e)}function c(e){ce(i,r,o,a,c,"throw",e)}a(void 0)}))}),[s,u,l,N]),D=(0,p.Z)(E);return(0,a.useEffect)((function(){D.resolved&&(O(!1),g(),k())}),[D.resolved,k,g]),(0,a.useEffect)((function(){S(M.N.docs.resetPage()),S(M.N.docs.setIndex())}),[u,l,S]),(0,r.jsxs)(ee.K,{wrap:!0,horizontal:!0,tokens:{childrenGap:10,padding:10},styles:{root:{minHeight:52,marginBottom:-10}},children:[(null===j||void 0===j?void 0:j.cursor.firstBatch.length)?j.cursor.firstBatch.map((function(e){return(0,r.jsx)(re,{value:e,selected:e.name===(null===y||void 0===y?void 0:y.name),onSelect:function(){S(M.N.docs.setIndex(e.name===(null===y||void 0===y?void 0:y.name)?void 0:e))}},e.name)})):(0,r.jsx)(te.a,{disabled:!0,text:"No Index"}),(0,r.jsx)(ee.K.Item,{grow:1,children:(0,r.jsx)(x.Z,{title:"Insert Document",value:N,onChange:A,isOpen:P,onDismiss:function(){O(!1)},onDismissed:function(){A({})},footer:function(e){return(0,r.jsx)(C.Z,{text:"Insert",disabled:e,primary:!0,promise:D})}})}),(0,r.jsxs)(ee.K,{horizontal:!0,styles:{root:{alignItems:"center"}},children:[(0,r.jsx)(ne.h,{iconProps:{iconName:"Add"},onClick:function(){O(!0)}}),(0,r.jsx)(ne.h,{iconProps:{iconName:(t={},ue(t,m.d1.TABLE,"Table"),ue(t,m.d1.DOCUMENT,"Documentation"),t)[f]},menuIconProps:{hidden:!0},menuProps:{items:[{key:m.d1.TABLE,text:"Tabel view",iconProps:{iconName:"Table"},checked:f===m.d1.TABLE,canCheck:!0,onClick:function(){S(M.N.docs.setDisplayMode(m.d1.TABLE))}},{key:m.d1.DOCUMENT,text:"Document view",iconProps:{iconName:"Documentation"},checked:f===m.d1.DOCUMENT,canCheck:!0,onClick:function(){S(M.N.docs.setDisplayMode(m.d1.DOCUMENT))}}]}}),(0,r.jsx)(ie,{})]})]})}var de=n(2510);function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){me(e,t,n[t])}))}return e}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(){var e=(0,c.I0)(),t=(0,k.gh)(),n=pe((0,h.Z)(),1)[0],o=n.conn,i=n.database,u=n.collection,l=(0,b.R)(o),s=(0,c.v9)((function(e){return e.docs.index})),d=(0,c.v9)((function(e){return e.docs.filter})),f=(0,c.v9)((function(e){return e.docs.projection})),m=(0,c.v9)((function(e){return e.docs.sort}));if((0,a.useEffect)((function(){e(M.N.docs.setFilter((null===s||void 0===s?void 0:s.partialFilterExpression)||{})),e(M.N.docs.setSort(s&&"_id_"!==s.name?{}:{_id:-1}))}),[s,e]),(0,a.useEffect)((function(){e(M.N.docs.setIndex(void 0)),e(M.N.docs.setFilter({})),e(M.N.docs.setSort({_id:-1})),e(M.N.docs.setProjection({}))}),[l,i,u,e]),!i||!u)return(0,r.jsx)("div",{style:{height:52}});if(!s)return(0,r.jsxs)(ee.K,{horizontal:!0,tokens:{childrenGap:10,padding:10},styles:{root:{height:52}},children:[(0,r.jsx)(de.Z,{prefix:"filter:",value:d,onChange:function(t){e(M.N.docs.setFilter(t||{}))}}),(0,r.jsx)(de.Z,{prefix:"sort:",value:m,onChange:function(t){e(M.N.docs.setSort(t||{}))}}),(0,r.jsx)(de.Z,{prefix:"projection:",value:f,onChange:function(t){e(M.N.docs.setProjection(t||{}))}})]});var v=Object.keys(s.key);return(0,r.jsx)(ee.K,{horizontal:!0,tokens:{childrenGap:10,padding:10},styles:{root:{height:52}},children:"textIndexVersion"in s?(0,r.jsx)(de.Z,{prefix:"Text Search",onChange:function(t){e(M.N.docs.setFilter({$text:{$search:t}}))}}):v.map((function(n){var o,i=s.key[n],a=1===i||-1===i,c=a?{iconName:1===m[n]?"SortUp":-1===m[n]?"SortDown":"Sort",styles:{root:{color:t.palette.themePrimary}}}:void 0,u=a?{items:[{key:"o",text:"Natural",iconProps:{iconName:"Sort"},checked:void 0===m[n],canCheck:!0,onClick:function(){e(M.N.docs.setSort(ve({},m,me({},n,void 0))))}},{key:"1",text:"Ascending",iconProps:{iconName:"SortUp"},checked:1===m[n],canCheck:!0,onClick:function(){e(M.N.docs.setSort(ve({},m,me({},n,1))))}},{key:"2",text:"Descending",iconProps:{iconName:"SortDown"},checked:-1===m[n],canCheck:!0,onClick:function(){e(M.N.docs.setSort(ve({},m,me({},n,-1))))}}]}:void 0;return(null===(o=s.partialFilterExpression)||void 0===o?void 0:o[n])?(0,r.jsx)(de.Z,{prefix:"".concat(n,":"),iconProps:c,menuProps:u,value:s.partialFilterExpression[n],onChange:function(t){e(M.N.docs.setFilter(ve({},d,me({},n,t))))}},n):(0,r.jsx)(de.Z,{prefix:"".concat(n,":"),iconProps:c,menuProps:u,onChange:function(t){e(M.N.docs.setFilter(ve({},d,me({},n,t))))}},n)}))})}var he=n(6404);function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(){var e=ge((0,h.Z)(),1)[0],t=e.database,n=e.collection;return t&&n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(se,{}),(0,r.jsx)(ye,{}),(0,r.jsx)(he.Z,{}),(0,r.jsx)(Y,{})]}):(0,r.jsx)(z.Z,{iconName:"Back",title:"Select Collection"})}}},function(e){e.O(0,[300,583,833,594,371,738,774,888,179],(function(){return t=8617,e(e.s=t);var t}));var t=e.O();_N_E=t}]);