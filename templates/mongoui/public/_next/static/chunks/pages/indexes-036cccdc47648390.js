(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[348],{79830:function(e){"use strict";/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,n){return"string"==typeof e?a(e):"number"==typeof e?s(e,n):null},e.exports.format=s,e.exports.parse=a;var n=/\B(?=(\d{3})+(?!\d))/g,t=/(?:\.0*|(\.[^0]+)0+)$/,r={b:1,kb:1024,mb:1048576,gb:1073741824,tb:1099511627776,pb:0x4000000000000},i=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function s(e,i){if(!Number.isFinite(e))return null;var s=Math.abs(e),a=i&&i.thousandsSeparator||"",o=i&&i.unitSeparator||"",l=i&&void 0!==i.decimalPlaces?i.decimalPlaces:2,u=!!(i&&i.fixedDecimals),c=i&&i.unit||"";c&&r[c.toLowerCase()]||(c=s>=r.pb?"PB":s>=r.tb?"TB":s>=r.gb?"GB":s>=r.mb?"MB":s>=r.kb?"KB":"B");var d=(e/r[c.toLowerCase()]).toFixed(l);return u||(d=d.replace(t,"$1")),a&&(d=d.split(".").map(function(e,t){return 0===t?e.replace(n,a):e}).join(".")),d+o+c}function a(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var n,t=i.exec(e),s="b";return(t?(n=parseFloat(t[1]),s=t[4].toLowerCase()):(n=parseInt(e,10),s="b"),isNaN(n))?null:Math.floor(r[s]*n)}},44174:function(e){e.exports=function(e,n,t,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var a=e[i];n(r,a,t(a),e)}return r}},48983:function(e,n,t){var r=t(40371)("length");e.exports=r},81119:function(e,n,t){var r=t(89881);e.exports=function(e,n,t,i){return r(e,function(e,r,s){n(i,e,t(e),s)}),i}},55189:function(e,n,t){var r=t(44174),i=t(81119),s=t(67206),a=t(1469);e.exports=function(e,n){return function(t,o){var l=a(t)?r:i,u=n?n():{};return l(t,e,s(o,2),u)}}},62689:function(e){var n=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},88016:function(e,n,t){var r=t(48983),i=t(62689),s=t(21903);e.exports=function(e){return i(e)?s(e):r(e)}},21903:function(e){var n="\ud800-\udfff",t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\ud83c[\udffb-\udfff]",i="[^"+n+"]",s="(?:\ud83c[\udde6-\uddff]){2}",a="[\ud800-\udbff][\udc00-\udfff]",o="(?:"+t+"|"+r+")?",l="[\\ufe0e\\ufe0f]?",u="(?:\\u200d(?:"+[i,s,a].join("|")+")"+l+o+")*",c=RegExp(r+"(?="+r+")|(?:"+[i+t+"?",t,s,a,"["+n+"]"].join("|")+")"+(l+o+u),"g");e.exports=function(e){for(var n=c.lastIndex=0;c.test(e);)++n;return n}},47037:function(e,n,t){var r=t(44239),i=t(1469),s=t(37005);e.exports=function(e){return"string"==typeof e||!i(e)&&s(e)&&"[object String]"==r(e)}},24350:function(e,n,t){var r=t(89465),i=t(55189)(function(e,n,t){r(e,t,n)});e.exports=i},35161:function(e,n,t){var r=t(29932),i=t(67206),s=t(69199),a=t(1469);e.exports=function(e,n){return(a(e)?r:s)(e,i(n,3))}},84238:function(e,n,t){var r=t(280),i=t(64160),s=t(98612),a=t(47037),o=t(88016);e.exports=function(e){if(null==e)return 0;if(s(e))return a(e)?o(e):e.length;var n=i(e);return"[object Map]"==n||"[object Set]"==n?e.size:r(e).length}},75351:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/indexes",function(){return t(84811)}])},94167:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(85893),i=t(67294),s=t(70161),a=t(56700),o=t(53234),l=t(45007),u=t(41762);function c(e){let n=(0,s.gh)(),t=(0,l.I0)(),[c,d]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{d(!e.target)},[e.target]),(0,r.jsx)(a.r,{target:e.target,directionalHint:o.b.rightTopEdge,hidden:c,onDismiss:()=>{d(!0)},items:[{key:"0",text:"View",iconProps:{iconName:"View"},onClick(){d(!0),t(u.N.indexes.setIsViewOpen(!0))}},{key:"1",text:"View Detail",iconProps:{iconName:"EntryView"},onClick(){d(!0),t(u.N.indexes.setIsDetailOpen(!0))}},{key:"2",text:"Drop",iconProps:{iconName:"Delete",styles:{root:{color:n.palette.red}}},onClick(){d(!0),t(u.N.indexes.setIsDialogHidden(!1))}}]})}},66668:function(e,n,t){"use strict";t.a(e,async function(e,r){try{t.d(n,{Z:function(){return N}});var i=t(85893),s=t(67294),a=t(45007),o=t(24350),l=t.n(o),u=t(70813),c=t(41762),d=t(79989),x=t(26162),f=t(12142),p=t(56529),v=t(6558),m=t(77752),g=t(99472),h=t(94167),j=t(64262),b=t(87929),k=t(1394),y=t(82935),I=e([u,x,v]);function N(){let{data:e}=(0,u.Az)(),{data:n,error:t}=(0,u.dv)(),{data:r,error:o,mutate:I}=(0,u.XH)(),[{conn:N,database:C,collection:w}]=(0,p.Z)(),Z=(0,v.R)(N),D=(0,a.v9)(e=>e.indexes.invokedIndex),V=(0,a.v9)(e=>e.indexes.isViewOpen),E=(0,a.v9)(e=>e.indexes.isDetailOpen),O=(0,a.v9)(e=>e.indexes.isDialogHidden),P=(0,a.I0)(),[_,z]=(0,s.useState)(),S=(0,s.useCallback)(async()=>D&&C&&w?(0,x.f)(Z,C,{dropIndexes:w,index:D.name}):void 0,[w,Z,C,D]),B=(0,d.Z)(S);(0,s.useEffect)(()=>{B.resolved&&(P(c.N.indexes.setIsDialogHidden(!0)),I())},[B.resolved,P,I]);let F=(0,s.useMemo)(()=>l()(null==e?void 0:e.cursor.firstBatch,"name"),[e]),H=(0,s.useMemo)(()=>(0,f.G)([["name",120],["features",240],["keys",240],["size",0],["ops",0],["since",160]]),[]),M=(0,s.useCallback)((e,t,r)=>{var s,a;return e&&r?(0,i.jsx)(k.Z,{item:e,column:r,size:null==n?void 0:null===(s=n.indexSizes)||void 0===s?void 0:s[e.name],accesses:null===(a=F[e.name])||void 0===a?void 0:a.accesses}):null},[n,F]),A=(0,s.useCallback)(e=>e.name||"",[]),R=(0,s.useCallback)(e=>{e&&P(c.N.indexes.setInvokedIndex(e)),P(c.N.indexes.setIsViewOpen(!0))},[P]),T=(0,s.useCallback)((e,n)=>{null==e||e.preventDefault(),z(e),n&&P(c.N.indexes.setInvokedIndex(n))},[P]);return t?(0,i.jsx)(m.Z,{iconName:"Error",title:"Error",content:t.message}):o?(0,i.jsx)(m.Z,{iconName:"Error",title:"Error",content:o.message}):r&&n?0===r.cursor.firstBatch.length?(0,i.jsx)(m.Z,{iconName:"Dictionary",title:"No Index"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.Z,{hidden:O,title:"Drop Index",subText:null==D?void 0:D.name,onDismiss:()=>{P(c.N.indexes.setIsDialogHidden(!0))},footer:(0,i.jsx)(j.Z,{text:"Drop",promise:B})}),(0,i.jsx)(g.Z,{title:"View Index: ".concat(null==D?void 0:D.name),readOnly:!0,value:D,isOpen:V,onDismiss:()=>{P(c.N.indexes.setIsViewOpen(!1))}}),(0,i.jsx)(g.Z,{title:"View Index Detail: ".concat(null==D?void 0:D.name),readOnly:!0,value:null==n?void 0:n.indexDetails[null==D?void 0:D.name],isOpen:E,onDismiss:()=>{P(c.N.indexes.setIsDetailOpen(!1))}}),(0,i.jsx)(h.Z,{target:_}),(0,i.jsx)(b.Z,{items:r.cursor.firstBatch,columns:H,getKey:A,onItemInvoked:R,onItemContextMenu:T,onRenderItemColumn:M})]}):(0,i.jsx)(m.Z,{iconName:"HourGlass",title:"Loading"})}[u,x,v]=I.then?(await I)():I,r()}catch(e){r(e)}})},1394:function(e,n,t){"use strict";t.d(n,{Z:function(){return N}});var r=t(85893),i=t(70161),s=t(79830),a=t.n(s),o=t(49813),l=t(67294),u=t(39693),c=t.n(u),d=t(84238),x=t.n(d),f=t(8521),p=t(46605),v=t(11898),m=t(19277),g=t(30552);function h(e){let n=(0,i.gh)(),t=(0,l.useCallback)(()=>(0,r.jsx)("div",{style:{padding:10,maxWidth:500,maxHeight:500,overflowY:"scroll",backgroundColor:n.palette.neutralLighter},children:(0,r.jsx)(g.Z,{value:e.value.data})}),[e.value.data,n.palette.neutralLighter]);return(0,r.jsx)(f.z,{type:p.C.plain,plainCardProps:{onRenderPlainCard:t},styles:{host:{display:"inherit",cursor:"pointer"}},instantOpenOnClick:!0,children:(0,r.jsx)(v.x,{styles:{root:{color:n.palette.themeSecondary}},children:e.value.text})},e.value.text)}function j(e){let n=(0,l.useMemo)(()=>c()([!(x()(e.value.key)>1)||"textIndexVersion"in e.value?null:{text:"compound",data:e.value.key},e.value.unique?{text:"unique",data:{unique:e.value.unique}}:null,e.value.sparse?{text:"sparse",data:{sparse:e.value.sparse}}:null,e.value.partialFilterExpression?{text:"partial",data:{partialFilterExpression:e.value.partialFilterExpression}}:null,"expireAfterSeconds"in e.value?{text:"ttl",data:{expireAfterSeconds:e.value.expireAfterSeconds}}:null,"2dsphereIndexVersion"in e.value?{text:"2dsphere",data:{"2dsphereIndexVersion":e.value["2dsphereIndexVersion"]}}:null,"textIndexVersion"in e.value?{text:"text",data:{textIndexVersion:e.value.textIndexVersion,default_language:e.value.default_language,language_override:e.value.language_override,weights:e.value.weights}}:null,e.value.background?{text:"background",data:{background:e.value.background}}:null]),[e.value]);return n.length?(0,r.jsx)(m.K,{horizontal:!0,tokens:{childrenGap:10},wrap:!0,children:n.map(e=>(0,r.jsx)(h,{value:e},e.text))}):null}var b=t(52672),k=t(35161),y=t.n(k);function I(e){let n=(0,i.gh)();return(0,r.jsx)(m.K,{horizontal:!0,tokens:{childrenGap:10},wrap:!0,children:"textIndexVersion"in e.value?y()(e.value.weights,(e,t)=>(0,r.jsxs)(v.x,{styles:{root:{display:"flex",alignItems:"center",color:n.palette.neutralPrimaryAlt}},children:[t,":\xa0",e]},t)):y()(e.value.key,(e,t)=>(0,r.jsxs)(v.x,{styles:{root:{display:"flex",alignItems:"center",color:n.palette.neutralPrimaryAlt}},children:[t,":\xa0",1===e?(0,r.jsx)(b.J,{iconName:"Up"}):-1===e?(0,r.jsx)(b.J,{iconName:"Down"}):"2dsphere"===e||"2d"===e?(0,r.jsx)(b.J,{iconName:"MapPin"}):null]},t))})}function N(e){let n=(0,i.gh)();switch(e.column.key){case"name":return(0,r.jsx)("span",{style:{color:n.palette.neutralPrimary},children:e.item.name});case"size":return void 0!==e.size?(0,r.jsx)(r.Fragment,{children:a()(e.size)}):null;case"ops":return e.accesses?(0,r.jsx)(r.Fragment,{children:(0,o.u)(e.accesses.ops)}):null;case"since":return e.accesses?(0,r.jsx)("time",{children:(0,o.p)(e.accesses.since)}):null;case"keys":return(0,r.jsx)(I,{value:e.item});case"features":return(0,r.jsx)(j,{value:e.item});default:return null}}},84811:function(e,n,t){"use strict";t.a(e,async function(e,r){try{t.r(n),t.d(n,{default:function(){return N}});var i=t(85893),s=t(67294),a=t(16921),o=t(19277),l=t(8521),u=t(46605),c=t(13396),d=t(77752),x=t(99472),f=t(66668),p=t(70813),v=t(79989),m=t(26162),g=t(64262),h=t(8817),j=t(49876),b=t(56529),k=t(6558),y=t(30552),I=e([f,p,m,k]);function N(){let[{conn:e,database:n,collection:t}]=(0,b.Z)(),[r,I]=(0,s.useState)(!1),[N,C]=(0,s.useState)({background:!0}),{mutate:w,isValidating:Z}=(0,p.XH)(),{mutate:D,isValidating:V}=(0,p.Az)(),{mutate:E,isValidating:O}=(0,p.dv)(),P=(0,k.R)(e),_=(0,s.useCallback)(async()=>n&&t?(0,m.f)(P,n,{createIndexes:t,indexes:[N]}):void 0,[t,P,n,N]),z=(0,v.Z)(_),S=(0,s.useCallback)(()=>{w(),D(),E()},[w,D,E]);(0,s.useEffect)(()=>{z.resolved&&(I(!1),S())},[z.resolved,S]);let B=(0,s.useCallback)(()=>(0,i.jsxs)("div",{style:{padding:10},children:[(0,i.jsx)("p",{style:{marginTop:0},children:"Example:"}),(0,i.jsx)(y.Z,{value:{name:"index_name",key:{a:1,b:-1},background:!0,unique:!0}}),(0,i.jsx)(a.a,{text:"Reference",iconProps:{iconName:"link"},onClick:()=>{window.open("https://docs.mongodb.com/manual/reference/command/createIndexes/")},style:{marginTop:10}})]}),[]);return n&&t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.K,{horizontal:!0,tokens:{padding:10},children:[(0,i.jsx)(o.K.Item,{grow:!0,children:(0,i.jsx)(x.Z,{title:"Create Index for ".concat(n,".").concat(t),value:N,onChange:C,isOpen:r,onDismiss:()=>{I(!1)},onDismissed:()=>{C({background:!0})},footer:e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Z,{text:"Create",disabled:e,primary:!0,promise:z}),(0,i.jsx)(l.z,{type:u.C.plain,plainCardProps:{onRenderPlainCard:B},styles:{host:{display:"inherit",cursor:"pointer"}},instantOpenOnClick:!0,children:(0,i.jsx)(c.h,{iconProps:{iconName:"help"}})})]})})}),(0,i.jsx)(c.h,{iconProps:{iconName:"Add"},onClick:()=>{I(!0)},children:"Create"}),(0,i.jsx)(j.Z,{isRefreshing:Z||V||O,onRefresh:S})]}),(0,i.jsx)(h.Z,{}),(0,i.jsx)(f.Z,{})]}):(0,i.jsx)(d.Z,{iconName:"Back",title:"Select Collection"})}[f,p,m,k]=I.then?(await I)():I,r()}catch(e){r(e)}})}},function(e){e.O(0,[300,295,345,453,888,774,179],function(){return e(e.s=75351)}),_N_E=e.O()}]);